import{_ as A,t as oe,r as D,a as re,w as te,d as ne,A as F,h as I}from"./el-button-CAL1vJ-6.js";import{R as W,m as N,f as ae,u as U,E as m,h as T,p as ie,aw as V,x as z,$ as B,Y as M,s as ce,A as R,C as S,n as o,H as $,v as ue,ah as le,d as fe,y as X,X as O,Z as ve,T as me,N as L,aQ as G,w as Q,q as Z,U as de,r as pe,F as he,a3 as be,z as j,a2 as ye,G as K,j as ge,aS as Se,D as J}from"./index-Ct-YH61H.js";const H=4,we={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},ze=({move:u,size:i,bar:n})=>({[n.size]:i,transform:`translate${n.axis}(${u}%)`}),Y=Symbol("scrollbarContextKey"),_e=W({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),ke="Thumb",Ee=N({__name:"thumb",props:_e,setup(u){const i=u,n=ae(Y),s=U("scrollbar");n||oe(ke,"can not inject scrollbar context");const a=m(),c=m(),d=m({}),p=m(!1);let t=!1,h=!1,y=fe?document.onselectstart:null;const l=T(()=>we[i.vertical?"vertical":"horizontal"]),r=T(()=>ze({size:i.size,move:i.move,bar:l.value})),b=T(()=>a.value[l.value.offset]**2/n.wrapElement[l.value.scrollSize]/i.ratio/c.value[l.value.offset]),g=v=>{var _;if(v.stopPropagation(),v.ctrlKey||[1,2].includes(v.button))return;(_=window.getSelection())==null||_.removeAllRanges(),E(v);const C=v.currentTarget;C&&(d.value[l.value.axis]=C[l.value.offset]-(v[l.value.client]-C.getBoundingClientRect()[l.value.direction]))},k=v=>{if(!c.value||!a.value||!n.wrapElement)return;const _=Math.abs(v.target.getBoundingClientRect()[l.value.direction]-v[l.value.client]),C=c.value[l.value.offset]/2,x=(_-C)*100*b.value/a.value[l.value.offset];n.wrapElement[l.value.scroll]=x*n.wrapElement[l.value.scrollSize]/100},E=v=>{v.stopImmediatePropagation(),t=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",f),y=document.onselectstart,document.onselectstart=()=>!1},w=v=>{if(!a.value||!c.value||t===!1)return;const _=d.value[l.value.axis];if(!_)return;const C=(a.value.getBoundingClientRect()[l.value.direction]-v[l.value.client])*-1,x=c.value[l.value.offset]-_,se=(C-x)*100*b.value/a.value[l.value.offset];n.wrapElement[l.value.scroll]=se*n.wrapElement[l.value.scrollSize]/100},f=()=>{t=!1,d.value[l.value.axis]=0,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",f),q(),h&&(p.value=!1)},e=()=>{h=!1,p.value=!!i.size},P=()=>{h=!0,p.value=t};ie(()=>{q(),document.removeEventListener("mouseup",f)});const q=()=>{document.onselectstart!==y&&(document.onselectstart=y)};return D(V(n,"scrollbarElement"),"mousemove",e),D(V(n,"scrollbarElement"),"mouseleave",P),(v,_)=>(z(),B(le,{name:o(s).b("fade"),persisted:""},{default:M(()=>[ce(R("div",{ref_key:"instance",ref:a,class:S([o(s).e("bar"),o(s).is(o(l).key)]),onMousedown:k},[R("div",{ref_key:"thumb",ref:c,class:S(o(s).e("thumb")),style:$(o(r)),onMousedown:g},null,38)],34),[[ue,v.always||p.value]])]),_:1},8,["name"]))}});var ee=A(Ee,[["__file","thumb.vue"]]);const Ce=W({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Te=N({__name:"bar",props:Ce,setup(u,{expose:i}){const n=u,s=ae(Y),a=m(0),c=m(0),d=m(""),p=m(""),t=m(1),h=m(1);return i({handleScroll:r=>{if(r){const b=r.offsetHeight-H,g=r.offsetWidth-H;c.value=r.scrollTop*100/b*t.value,a.value=r.scrollLeft*100/g*h.value}},update:()=>{const r=s==null?void 0:s.wrapElement;if(!r)return;const b=r.offsetHeight-H,g=r.offsetWidth-H,k=b**2/r.scrollHeight,E=g**2/r.scrollWidth,w=Math.max(k,n.minSize),f=Math.max(E,n.minSize);t.value=k/(b-k)/(w/(b-w)),h.value=E/(g-E)/(f/(g-f)),p.value=w+H<b?`${w}px`:"",d.value=f+H<g?`${f}px`:""}}),(r,b)=>(z(),X(ve,null,[O(ee,{move:a.value,ratio:h.value,size:d.value,always:r.always},null,8,["move","ratio","size","always"]),O(ee,{move:c.value,ratio:t.value,size:p.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var He=A(Te,[["__file","bar.vue"]]);const Be=W({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:me([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),Re={scroll:({scrollTop:u,scrollLeft:i})=>[u,i].every(L)},Ne="ElScrollbar",Pe=N({name:Ne}),Le=N({...Pe,props:Be,emits:Re,setup(u,{expose:i,emit:n}){const s=u,a=U("scrollbar");let c,d;const p=m(),t=m(),h=m(),y=m(),l=T(()=>{const e={};return s.height&&(e.height=G(s.height)),s.maxHeight&&(e.maxHeight=G(s.maxHeight)),[s.wrapStyle,e]}),r=T(()=>[s.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!s.native}]),b=T(()=>[a.e("view"),s.viewClass]),g=()=>{var e;t.value&&((e=y.value)==null||e.handleScroll(t.value),n("scroll",{scrollTop:t.value.scrollTop,scrollLeft:t.value.scrollLeft}))};function k(e,P){ge(e)?t.value.scrollTo(e):L(e)&&L(P)&&t.value.scrollTo(e,P)}const E=e=>{L(e)&&(t.value.scrollTop=e)},w=e=>{L(e)&&(t.value.scrollLeft=e)},f=()=>{var e;(e=y.value)==null||e.update()};return Q(()=>s.noresize,e=>{e?(c==null||c(),d==null||d()):({stop:c}=re(h,f),d=D("resize",f))},{immediate:!0}),Q(()=>[s.maxHeight,s.height],()=>{s.native||Z(()=>{var e;f(),t.value&&((e=y.value)==null||e.handleScroll(t.value))})}),de(Y,pe({scrollbarElement:p,wrapElement:t})),he(()=>{s.native||Z(()=>{f()})}),be(()=>f()),i({wrapRef:t,update:f,scrollTo:k,setScrollTop:E,setScrollLeft:w,handleScroll:g}),(e,P)=>(z(),X("div",{ref_key:"scrollbarRef",ref:p,class:S(o(a).b())},[R("div",{ref_key:"wrapRef",ref:t,class:S(o(r)),style:$(o(l)),onScroll:g},[(z(),B(ye(e.tag),{id:e.id,ref_key:"resizeRef",ref:h,class:S(o(b)),style:$(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:M(()=>[j(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),e.native?K("v-if",!0):(z(),B(He,{key:0,ref_key:"barRef",ref:y,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});var Me=A(Le,[["__file","scrollbar.vue"]]);const Ke=te(Me),$e=W({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Se},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Oe={close:u=>u instanceof MouseEvent,click:u=>u instanceof MouseEvent},Ae=N({name:"ElTag"}),We=N({...Ae,props:$e,emits:Oe,setup(u,{emit:i}){const n=u,s=ne(),a=U("tag"),c=T(()=>{const{type:t,hit:h,effect:y,closable:l,round:r}=n;return[a.b(),a.is("closable",l),a.m(t||"primary"),a.m(s.value),a.m(y),a.is("hit",h),a.is("round",r)]}),d=t=>{i("close",t)},p=t=>{i("click",t)};return(t,h)=>t.disableTransitions?(z(),X("span",{key:0,class:S(o(c)),style:$({backgroundColor:t.color}),onClick:p},[R("span",{class:S(o(a).e("content"))},[j(t.$slots,"default")],2),t.closable?(z(),B(o(I),{key:0,class:S(o(a).e("close")),onClick:J(d,["stop"])},{default:M(()=>[O(o(F))]),_:1},8,["class","onClick"])):K("v-if",!0)],6)):(z(),B(le,{key:1,name:`${o(a).namespace.value}-zoom-in-center`,appear:""},{default:M(()=>[R("span",{class:S(o(c)),style:$({backgroundColor:t.color}),onClick:p},[R("span",{class:S(o(a).e("content"))},[j(t.$slots,"default")],2),t.closable?(z(),B(o(I),{key:0,class:S(o(a).e("close")),onClick:J(d,["stop"])},{default:M(()=>[O(o(F))]),_:1},8,["class","onClick"])):K("v-if",!0)],6)]),_:3},8,["name"]))}});var xe=A(We,[["__file","tag.vue"]]);const Ue=te(xe);export{Ue as E,Ke as a,$e as t};
