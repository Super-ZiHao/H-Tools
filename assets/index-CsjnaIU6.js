import{D as f}from"./draggable-BzVv56YS.js";import{_ as v}from"./index-D4QfcvDj.js";import{T as x}from"./title-DUqq-kWT.js";const g=["src"],_=Vue.defineComponent({__name:"AutoImgs",props:{src:{},style:{}},setup(n){const{src:u,style:r}=n,o=Vue.ref(),a=Vue.ref();return Vue.onMounted(()=>{const l=new Image;l.onload=function(){a.value=`${l.width}/${l.height}`,l.remove()},l.src=u}),Vue.onUpdated(()=>{const l=new Image;l.onload=function(){a.value=`${l.width}/${l.height}`,l.remove()},l.src=u}),(l,c)=>(Vue.openBlock(),Vue.createElementBlock("img",Vue.mergeProps({src:l.src,style:{aspectRatio:a.value,...l.style}},l.$attrs,{ref_key:"imgRef",ref:o}),null,16,g))}}),E=n=>(Vue.pushScopeId("data-v-69b1e34d"),n=n(),Vue.popScopeId(),n),h={key:0,class:"h-full flex-1 w-0 flex flex-col gap-4"},w={class:"flex items-center justify-between"},k={class:"flex items-center gap-2 flex-wrap"},y={key:1,class:"border-[2px] border-cyan-400 flex-1 rounded-md flex flex-col gap-2 items-center justify-center"},b=E(()=>Vue.createElementVNode("div",{class:"text-gray-500 text-xs"},"暂未上传任何图像",-1)),N=Vue.defineComponent({__name:"spriteImgs",props:{data:{}},setup(n){const u=Vue.ref(0),r=Vue.ref(300),o=Vue.ref(0),a=Vue.ref(3),l=Vue.ref(.5),c=[{value:.5,label:"x0.5"},{value:1,label:"x1"},{value:2,label:"x2"},{value:4,label:"x4"},{value:8,label:"x8"}],s=Vue.ref(0),m=[{value:0,label:"横图"},{value:1,label:"竖图"},{value:2,label:"网格"}],V=Vue.ref(),i=()=>{V.value&&html2canvas(V.value.$el,{backgroundColor:"transparent",scale:l.value}).then(d=>{let t=d.toDataURL("image/png"),e=document.createElement("a");e.href=t,e.download="sprites.png",e.click(),e.remove()})},p=Vue.computed(()=>{switch(s.value){case 0:return"flex items-center";case 1:return"flex flex-col items-center";case 2:return""}});return(d,t)=>d.data.length>0?(Vue.openBlock(),Vue.createElementBlock("div",h,[Vue.createElementVNode("div",w,[Vue.createElementVNode("div",k,[Vue.createVNode(Vue.unref(ElementPlus.ElInput),{style:{width:"90px"},modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e)},{prepend:Vue.withCtx(()=>[Vue.createTextVNode("圆角")]),_:1},8,["modelValue"]),Vue.createVNode(Vue.unref(ElementPlus.ElInput),{style:{width:"130px"},modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e)},{prepend:Vue.withCtx(()=>[Vue.createTextVNode("maxSize")]),_:1},8,["modelValue"]),Vue.createVNode(Vue.unref(ElementPlus.ElInput),{style:{width:"90px"},modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value=e)},{prepend:Vue.withCtx(()=>[Vue.createTextVNode("间距")]),_:1},8,["modelValue"]),Vue.createVNode(Vue.unref(ElementPlus.ElSelect),{style:{width:"80px"},modelValue:l.value,"onUpdate:modelValue":t[3]||(t[3]=e=>l.value=e)},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(c,e=>Vue.createVNode(Vue.unref(ElementPlus.ElOption),{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),Vue.createVNode(Vue.unref(ElementPlus.ElSelect),{style:{width:"80px"},modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=e=>s.value=e)},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(m,e=>Vue.createVNode(Vue.unref(ElementPlus.ElOption),{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),s.value===2?(Vue.openBlock(),Vue.createBlock(Vue.unref(ElementPlus.ElInput),{key:0,style:{width:"90px"},modelValue:a.value,"onUpdate:modelValue":t[5]||(t[5]=e=>a.value=e)},{prepend:Vue.withCtx(()=>[Vue.createTextVNode("col")]),_:1},8,["modelValue"])):Vue.createCommentVNode("",!0)]),Vue.createVNode(Vue.unref(ElementPlus.ElButton),{type:"primary",onClick:i},{default:Vue.withCtx(()=>[Vue.createTextVNode("下载")]),_:1})]),Vue.createElementVNode("div",{class:Vue.normalizeClass(`imgs-group-background flex-1 border-[2px] border-cyan-400 ${p.value} rounded-md overflow-auto`)},[Vue.createVNode(Vue.TransitionGroup,{class:Vue.normalizeClass(`imgs-group-${s.value} bg-transparent`),tag:"div",name:"list",ref_key:"imgsContainer",ref:V,style:Vue.normalizeStyle(`gap: ${o.value}px; --max-size:${r.value}px; --col: ${a.value}`)},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(d.data,e=>(Vue.openBlock(),Vue.createBlock(_,{class:"transition-all block",key:e.id,src:e.url,style:Vue.normalizeStyle({borderRadius:`${u.value}px`,maxWidth:`${r.value}px`,maxHeight:`${r.value}px`}),draggable:"false"},null,8,["src","style"]))),128))]),_:1},8,["class","style"])],2)])):(Vue.openBlock(),Vue.createElementBlock("div",y,[Vue.createVNode(Vue.unref(ElementPlus.ElIcon),{color:"#6c727f",size:"32"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(ElementPlusIconsVue.Picture))]),_:1}),b]))}}),C=v(N,[["__scopeId","data-v-69b1e34d"]]),B={class:"shadow-2xl border rounded-xl w-full h-full max-w-[1440px] p-4 flex gap-4 overflow-hidden"},S=Vue.defineComponent({__name:"index",setup(n){const u=Vue.reactive([]);return(r,o)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(x,null,{default:Vue.withCtx(()=>[Vue.createTextVNode("在线拼接雪碧图")]),_:1}),Vue.createElementVNode("div",B,[Vue.createVNode(f,{modelValue:u,"onUpdate:modelValue":o[0]||(o[0]=a=>u=a)},null,8,["modelValue"]),Vue.createVNode(C,{data:u},null,8,["data"])])],64))}});export{S as default};
